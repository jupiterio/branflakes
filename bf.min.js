var bf=function(e,r,a){for(var i=0,o=[0],s="",t=0,r=r||100,f=0;f<e.length;f++){var c=e[f];switch(c){case">":i++;break;case"<":i--;break;case"+":o[i]=void 0==o[i]?1:o[i]+1;break;case"-":o[i]=void 0==o[i]?-1:o[i]-1;break;case".":s+=String.fromCharCode(o[i]||0);break;case",":(a||function(){throw"Not implemented"})(o,i);break;case"[":for(var n=[1],b=f+1;b<e.length;b++)if("["==e[b]&&n[0]++,"]"==e[b]&&n[0]--,0==n[0]){n[1]=b;break}if(n[0]>0)throw"Missing "+n[0]+" ]s";0==o[i]&&(f=n[1]);break;case"]":for(var n=[1],b=f-1;b>-1;b--)if("]"==e[b]&&n[0]++,"["==e[b]&&n[0]--,0==n[0]){n[1]=b;break}if(n[0]>0)throw"Missing "+n[0]+" [s";if(t>r)throw"Exceeded max loop repetition";if(0!=o[i]){f=n[1],t++;break}t=0}}return s};